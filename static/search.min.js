!function(){var l,d={},w=document.body.clientWidth<=600;function x(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>"'/]/g,function(e){return t[e]})}function p(e){var t="";if(e.cells&&e.cells.length)for(var n=0,a=e.cells.length;n<a;n++)for(var o=e.cells[n],s=0,i=o.length;s<i;s++)o[s].trim()&&(t+=o[s]+" ");return t}function b(e){var t=new RegExp("[*]","gi");return e.replace(t,"")}function s(e){var m=[],y=[];Object.keys(d).forEach(function(t){y=y.concat(Object.keys(d[t]).map(function(e){return d[t][e]}))});function t(e){var t,n,a,o,s,i,r,c,l,d=(t=y[e],n=t.title||"",a=t.body||"",n=n.replace(/\(.*\)/,""),a=a.replace(/\n\s+/g,""),{title:b(n),body:b(a),slug:t.slug}),p=!1,u="",f=d.title&&d.title.trim(),h=d.body&&d.body.trim(),g=d.slug||"";f&&h&&(o=new RegExp(v.replace("-","-").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),"gi"),s=-1,isTitle=f&&f.match(o),isContent=h&&h.match(o),isTitle||isContent?(p=!0,s=0,isContent&&(s=h.indexOf(v)),i=w?70:500,(c=(c=0)==(r=s<11?0:s-10)?i:s+v.length+i)>h.length&&(c=h.length),u+="..."+x(h.substring(r,c)).replace(o,'<em class="search-keyword">'+v+"</em>")+"...",f=x(f).replace(o,'<em class="search-keyword">'+v+"</em>")):p=!1,p&&(l={title:f,content:u,url:g},0===f.indexOf("<em class=")?m.unshift(l):m.push(l)))}for(var v=e,n=0;n<y.length;n++)t(n);return m}function c(a,o){l=Docsify;var e="auto"===a.paths,t=localStorage.getItem("docsify.search.expires")<Date.now();if(d=JSON.parse(localStorage.getItem("docsify.search.index")),t)d={};else if(!e)return;var s,i,n=e?(s=o.router,i=[],l.dom.findAll("a:not([data-nosearch])").forEach(function(e){var t=e.href,n=e.getAttribute("href"),a=s.parse(t).path;a&&-1===i.indexOf(a)&&!Docsify.util.isAbsolutePath(n)&&i.push(a)}),i):a.paths,r=n.length,c=0;n.forEach(function(n){return d[n]?c++:void l.get(o.router.getFile(n),!1,o.config.requestHeaders).then(function(e){var t;d[n]=function(a,e,o,s){var t,n;(e=e.replace(/^\s*$/g,"")||"").match(/^#/)||(t="uni-app",(n=a.match(/\/([^\/]+)/i))&&n[1]&&(t=n[1]),e="# "+t+"\n"+e);var i,r=window.marked.lexer(e),c=window.Docsify.slugify,l={},d=null;return r.forEach(function(e){if("heading"===e.type&&e.depth<=s){e.depth<3&&(d=null),3===e.depth&&(d=e.text);var t=e.text.match(/@([A-Za-z0-9\-]+)/),n="";t?(n=t[1],e.text=e.text.replace(t[0],"")):n=e.text,i=o.toURL(a,{id:c(n)}),l[i]={slug:i,title:e.text,body:""},4===e.depth&&d&&(l[i].title=d+"#"+l[i].title)}else{if(!i)return;l[i]?l[i].body?"table"===e.type?l[i].body+="\n"+p(e):l[i].body+="\n"+(e.text||""):"table"===e.type?l[i].body=p(e):l[i].body=e.text:l[i]={slug:i,title:"",body:""}}}),c.clear(),l}(n,e,o.router,a.depth),r===++c&&(t=a.maxAge,localStorage.setItem("docsify.search.expires",Date.now()+t),localStorage.setItem("docsify.search.index",JSON.stringify(d)))})})}var u="";function i(e,t){var n=new RegExp(t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),"gi"),a=new RegExp("&lt;span style='font-weight:bold;color:red'&gt;","g"),o=new RegExp("&lt;/span&gt;","g");return e.replace(a,"").replace(o,"").replace(n,'<em class="search-keyword">'+t+"</em>")}function f(e,t){var n,a="",o="规范";switch(t&&(e.title=i(e.title,t),e.content=i(e.content,t)),a+='<div class="matching-post">\n',e.type){case"questions":o="问题";break;case"articles":o="文章"}return a+='<a href="'+e.url+'" target="_blank"><div class="post-wrapper">',t&&(n="questions"===e.type?"回复":"评论"),a+='<p class="aw-text"><span class="post-tag">'+o+"</span></p>",a+="\n<h2>"+e.title+"</h2></div>",t&&(a+="<p>"+e.comment_count+"个"+n+'<span class="aw-text-space">-</span>'+e.view_count+"次浏览</p>"),a+="\n<p>"+e.content+"</p>\n</a>\n</div>"}function h(c,e){var t=Docsify.dom.find("div.search"),l=w?Docsify.dom.find(t,".results-panel"):document.getElementById("search-results"),n=Docsify.dom.find(t,".clear-button"),a=document.getElementById("main");if(!c)return n.classList.remove("show"),l.classList.remove("show"),l.innerHTML="",!w&&a&&a.classList.remove("hide"),void(e.config.searchPlugin.searching=!1);var o=s(c),d="";o.forEach(function(e){d+=f(e)}),l.classList.add("show"),n.classList.add("show"),l.innerHTML=d||'<p class="empty"></p>',w||a.classList.add("hide"),$docsify.get("//ext.dcloud.net.cn/search/json?query="+encodeURIComponent(c)).then(function(e){var t,n,a=JSON.parse(e);if(0===a.ret){for(var o=a.data,s="",i=0,r=o.length;i<r;i++)s+=(t=o[i],n=void 0,n="",n+='<div class="matching-post">\n',n+='<a href="'+t.url+'" target="_blank"><div class="post-wrapper">',n+='<p class="aw-text"><span class="post-tag">插件</span></p>',n+="\n<h2>"+t.name+"</h2></div>",n+="<p>"+t.total_download+"次下载</p>",n+="\n<p>"+t.description+"</p>\n</a>\n</div>");l.innerHTML+=s}$docsify.get("//ask.dcloud.net.cn/search/ajax/search_result/search_type-doc__q-"+c+"__page-1").then(function(e){var t,n,a;e&&(0===(t=JSON.parse(e)).code?(n=t.data,a="",n.forEach(function(e){a+=f(e,c)}),a&&(a+='<div class="more"><a href="//ask.dcloud.net.cn/search/q-'+t.searchKeyword+'#all" target="_blank">前往社区搜索更多内容</a></div>',l.innerHTML+=a)):d||(l.innerHTML='<p class="empty">'+u+"</p>"))})}),e.config.searchPlugin.searching=!0}function g(e,t){var n,a,o,s,i,r=t.router.parse().query.s;!function(e){void 0===e&&(e="");var t='<div class="input-wrap">\n      <input type="search" value="'+e+'" placeholder="搜索">\n      <div class="clear-button">\n        <svg width="26" height="24">\n          <circle cx="12" cy="12" r="11" fill="#ccc" />\n          <path stroke="white" stroke-width="2" d="M8.25,8.25,15.75,15.75" />\n          <path stroke="white" stroke-width="2"d="M8.25,15.75,15.75,8.25" />\n        </svg>\n      </div>\n    </div>\n    <div class="results-panel"></div>\n    </div>',n=Docsify.dom.create("div",t),a=Docsify.dom.find("aside"),o=Docsify.dom.find(".app-nav");Docsify.dom.toggleClass(n,"search"),w&&Docsify.dom.toggleClass(n,"mobile"),w?Docsify.dom.before(a,n):(Docsify.dom.toggleClass(n,"nav-search"),Docsify.dom.before(o,n))}(r),n=t,o=Docsify.dom.find("div.search"),s=Docsify.dom.find(o,"input"),i=Docsify.dom.find(o,".input-wrap"),Docsify.dom.on(o,"click",function(e){return"A"!==e.target.tagName&&e.stopPropagation()}),Docsify.dom.on(s,"input",function(t){clearTimeout(a),a=setTimeout(function(e){return h(t.target.value.trim(),n)},1e3)}),Docsify.dom.on(i,"click",function(e){"INPUT"!==e.target.tagName&&h(s.value="",n)}),r&&setTimeout(function(e){return h(r,t)},500)}function m(e,t){var n,a,o,s,i,r;n=e.placeholder,a=t.route.path,(s=Docsify.dom.getNode('.search input[type="search"]'))&&("string"==typeof n?s.placeholder=n:(o=Object.keys(n).filter(function(e){return-1<a.indexOf(e)})[0],s.placeholder=n[o])),i=e.noData,r=t.route.path,u="string"==typeof i?i:i[Object.keys(i).filter(function(e){return-1<r.indexOf(e)})[0]]}var y={placeholder:"Type to search",noData:"No Results!",paths:"auto",depth:2,maxAge:864e5};$docsify.searchPlugin={install:function(e,t){var n,a,o,s,i=(n=t,a=y,o=Docsify.util,s=n.config.search||y,Array.isArray(s)?a.paths=s:"object"==typeof s&&(a.paths=Array.isArray(s.paths)?s.paths:"auto",a.maxAge=o.isPrimitive(s.maxAge)?s.maxAge:a.maxAge,a.placeholder=s.placeholder||a.placeholder,a.noData=s.noData||a.noData,a.depth=s.depth||a.depth),a),r="auto"===i.paths;e.mounted(function(e){g(0,t),r||c(i,t)}),e.doneEach(function(e){m(i,t),r&&c(i,t)})},clear:function(e){var t=Docsify.dom.find("div.search"),n=Docsify.dom.find(t,"input"),a=w?Docsify.dom.find(t,".results-panel"):document.getElementById("search-results"),o=Docsify.dom.find(t,".clear-button"),s=document.getElementById("main");n.value="",o.classList.remove("show"),a.classList.remove("show"),a.innerHTML="",!w&&s&&s.classList.remove("hide"),e.config.searchPlugin.searching=!1},searching:!1,init:g}}();